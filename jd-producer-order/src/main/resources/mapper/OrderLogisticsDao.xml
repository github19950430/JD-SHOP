<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.jdproducerorder.dao.OrderLogisticsDao">

    <resultMap type="com.example.jdproducerorder.entity.order.OrderLogistics" id="OrderLogisticsMap">
        <result property="logisticsId" column="logistics_id" jdbcType="INTEGER"/>
        <result property="logisticsCompany" column="logistics_company" jdbcType="VARCHAR"/>
        <result property="logisticsNo" column="logistics_no" jdbcType="VARCHAR"/>
        <result property="sendTime" column="send_time" jdbcType="TIMESTAMP"/>
        <result property="takeTime" column="take_time" jdbcType="TIMESTAMP"/>
    </resultMap>

    <!--查询单个-->
    <select id="queryBylogisticsNo" resultMap="OrderLogisticsMap">
        select
          logistics_id, logistics_company, logistics_no, send_time, take_time
        from JD_SHOP_ORDER.order_logistics
        where logistics_no = #{logisticsNo}
    </select>

    <!--查询指定行数据-->
    <select id="queryAllByLimit" resultMap="OrderLogisticsMap">
        select
          logistics_id, logistics_company, logistics_no, send_time, take_time
        from JD_SHOP_ORDER.order_logistics
        limit #{offset}, #{limit}
    </select>

    <!--通过实体作为筛选条件查询-->
    <select id="queryAll" resultMap="OrderLogisticsMap">
        select
          logistics_id, logistics_company, logistics_no, send_time, take_time
        from JD_SHOP_ORDER.order_logistics
        <where>
            <if test="logisticsId != null">
                and logistics_id = #{logisticsId}
            </if>
            <if test="logisticsCompany != null and logisticsCompany != ''">
                and logistics_company = #{logisticsCompany}
            </if>
            <if test="logisticsNo != null">
                and logistics_no = #{logisticsNo}
            </if>
            <if test="sendTime != null">
                and send_time = #{sendTime}
            </if>
            <if test="takeTime != null">
                and take_time = #{takeTime}
            </if>
        </where>
    </select>

    <!--新增所有列-->
    <insert id="insert" keyProperty="logisticsId" useGeneratedKeys="true">
        insert into JD_SHOP_ORDER.order_logistics(logistics_company, logistics_no, send_time, take_time)
        values (#{logisticsCompany}, #{logisticsNo}, #{sendTime}, #{takeTime})
    </insert>

    <!--通过主键修改数据-->
    <update id="update">
        update JD_SHOP_ORDER.order_logistics
        <set>
            <if test="logisticsCompany != null and logisticsCompany != ''">
                logistics_company = #{logisticsCompany},
            </if>
            <if test="logisticsNo != null">
                logistics_no = #{logisticsNo},
            </if>
            <if test="sendTime != null">
                send_time = #{sendTime},
            </if>
            <if test="takeTime != null">
                take_time = #{takeTime},
            </if>
        </set>
        where logistics_id = #{logisticsId}
    </update>

    <!--通过主键删除-->
    <delete id="deleteById">
        delete from JD_SHOP_ORDER.order_logistics where logistics_id = #{logisticsId}
    </delete>

</mapper>